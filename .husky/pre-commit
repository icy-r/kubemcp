#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Run linting
echo "ğŸ” Running linter..."
pnpm run lint

# Run type checking
echo "ğŸ“ Running type check..."
pnpm run typecheck

# Run security audit (only show critical and high vulnerabilities)
echo "ğŸ”’ Running security audit..."
pnpm audit --audit-level=high || {
  echo "âš ï¸  Security vulnerabilities found! Please review and fix before committing."
  exit 1
}

echo "âœ… All pre-commit checks passed!"

